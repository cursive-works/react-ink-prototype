{"inkVersion":18,"root":[["ev",{"VAR?":"inventory"},{"VAR?":"paperclip"},"+",{"temp=":"inventory","re":true},"/ev",{"->":"loc_space"},["done",{"#f":7,"#n":"g-0"}],null],"done",{"print_score":["^You scored ","ev",{"VAR?":"score"},"out","/ev","^ out of a possible ","ev",{"VAR?":"max_possible_score"},"out","/ev","^.","\n",{"#f":3}],"loc_space":[["^Drifting in space, powerless, the Mastromo slips further into the gravitational well.","\n","ev","str","^Continue","/str","/ev",{"*":".^.c-0","flg":20},{"c-0":["\n",{"->":"loc_mess"},{"#f":7}]}],{"#f":3}],"loc_mess":["ev",{"VAR?":"mess"},"/ev",{"temp=":"location","re":true},"^You come round, an alarm ringing in your ears. Last thing you remember, the whole crew, together, eating... then a tremendous jolt, confusion, lights out... then this...","\n",{"#":"PAIN"},"^Your crew mates are nowhere to be seen.","\n",{"->":".^.coming_round_in_the_mess"},{"coming_round_in_the_mess":[["ev",{"VAR?":"alarm_state"},{"VAR?":"on"},"==","/ev",[{"->":".^.b","c":true},{"b":["^ An alarm bleats. ",{"->":".^.^.^.6"},null]}],"nop","\n","ev",{"VAR?":"inventory"},{"list":{"inventory.spanner":1}},"!?","/ev",[{"->":".^.b","c":true},{"b":["^ There is a spanner here. ",{"->":".^.^.^.14"},null]}],"nop","\n","ev","str","^Call out","/str","/ev",{"*":".^.c-0","flg":20},"ev","str","^Airlock","/str","/ev",{"*":".^.c-1","flg":4},"ev","str","^Examine the room","/str","/ev",{"*":".^.c-2","flg":20},"ev","str","^Take the spanner","/str",{"VAR?":"inventory"},{"list":{"inventory.spanner":1}},"!?","/ev",{"*":".^.c-3","flg":21},{"c-0":["\n","^\"Aisley!?\"","\n","^\"Smith!?\"","\n","^. . . silence.","\n",{"->":".^.^.^"},{"#f":7}],"c-1":["\n","^It's on lockdown","<>","\n","ev",{"VAR?":"inventory"},{"list":{"inventory.spanner":1}},"?","/ev",[{"->":".^.b","c":true},{"b":["^ but you can use the spanner to override it manually",{"->":".^.^.^.10"},null]}],"nop","\n","ev",{"VAR?":"inventory"},{"list":{"inventory.spanner":1}},"!?","/ev",[{"->":".^.b","c":true},{"b":["^: you'd need tools to open it.",{"->":".^.^.^.18"},null]}],"nop","\n","ev",{"VAR?":"inventory"},{"list":{"inventory.spanner":1}},"!?","/ev",[{"->":".^.b","c":true},{"b":["^ ",{"->":".^.^.^.^.^"},{"->":".^.^.^.26"},null]}],"nop","\n",["ev","str","^Force the airlock","/str",{"VAR?":"inventory"},{"list":{"inventory.spanner":1}},"?","/ev",{"*":".^.c-0","flg":21},{"c-0":["\n","^You fit the head of the spanner over the central latch pin, and heave","\n","^. . .","\n","^The airlock releases and swings slowly back.","\n","^Beyond you can see... \"Wait, what is that? My Grud, no!\"","\n",{"#":"SHIVER"},"^. . .","\n",{"->":"end"},{"#f":7}]}],{"#f":7}],"c-2":["\n","^There's no sign of damage or your crewmates. The emergency power systems are in operation: basic life support and minimal lighting.","\n","^Nearby is a button marked alarm.","\n",["ev","str","^Press button","/str","/ev",{"*":".^.c-0","flg":20},{"c-0":["\n","^You press the button and after a moment the alarm ceases.","\n","ev",{"VAR?":"score"},1,"+",{"temp=":"score","re":true},"/ev","ev",{"VAR?":"off"},"/ev",{"temp=":"alarm_state","re":true},{"->":".^.^.^.^.^"},{"#f":7}]}],{"#f":7}],"c-3":["\n","^You grab the spanner and tuck it into your toolbelt.","\n","ev",{"VAR?":"inventory"},{"VAR?":"spanner"},"+",{"temp=":"inventory","re":true},"/ev","ev",{"VAR?":"score"},1,"+",{"temp=":"score","re":true},"/ev",{"->":".^.^.^"},{"#f":7}]}],{"#f":3}],"#f":3}],"end":[["ev",{"VAR?":"airlock"},"/ev",{"temp=":"location","re":true},"^Thanks for playing. This was a short demo of Ink on the web employing variable observers to implements an inventory and score system in a React UI.","\n",[{"->":"game_over"},{"#f":7,"#n":"g-0"}],null],{"#f":3}],"game_over":["ev",{"f()":"print_score"},"out","/ev","\n","end",{"#f":3}],"global decl":["ev",{"list":{},"origins":["location"]},{"VAR=":"location"},{"list":{},"origins":["active"]},{"VAR=":"active"},{"list":{},"origins":["goals"]},{"VAR=":"goals"},{"list":{},"origins":["inventory"]},{"VAR=":"inventory"},0,{"VAR=":"score"},100,{"VAR=":"oxygen_level"},2,{"VAR=":"max_possible_score"},{"VAR?":"on"},{"VAR=":"alarm_state"},"/ev","end",null],"#f":3}],"listDefs":{"location":{"mess":1,"airlock":2},"active":{"on":1,"off":2},"goals":{"restore_power":1,"restore_air":2},"inventory":{"spanner":1,"paperclip":2}}}
